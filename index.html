<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="jquery.js"></script>
    <title>Refresher</title>
  </head>
  <body>
    <!-- date format should be  ="dd/mm/yyyy hh:mm:ss" or ="yyyy-mm-dd hh:mm:ss" -->
    <div data-count-down="1" class="countdownHolder" data-refresh-time="10/09/2016 15:43:00"></div>
    <script>
      $(function(){
        var $trigger = $('[data-count-down]');
        if ( $trigger.length ) {
          $trigger.each(function(){
            var datetime = $(this).data('count-down-to');
            // TO-Do Make datetime British format only when the datetime has slashes

            if(datetime.indexOf('/') > 0) {
              // We expect the user to input dd/mm
              britishDatetimeArray = datetime.split('/');
              // Gets the dd from user input
              var dd = britishDatetimeArray.splice(0, 1);
              var mm = britishDatetimeArray.splice(0, 1);
              // datetime converted to the mm/dd format so javascript gets the right datetime
              datetime = [mm, dd, britishDatetimeArray].join('/');
            }

            // endDate is only added to make a js date object
            var refreshTime = new Date(datetime);
            if (new Date() < refreshTime) {
              console.log('before');
              location.reload();
              console.log('after');
            }else {
              console.log('didn\'t work');
            }
          });
        }
      });
    </script>
  </body>
</html>
